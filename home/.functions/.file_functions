# Create a newly stubbed bash script file
function newsh {
  local SH_FILE="new.sh"
  echo "file: $1"
  if [ "" != "$1" ]; then
    SH_FILE="$1"
  fi
  echo "#!/usr/bin/env bash" > "$SH_FILE"
  echo "#" >> "$SH_FILE"
  echo "# Created By: $(whoami)" >> "$SH_FILE"
  echo "# Created Date: $(date +%Y%m%d-%H%M%S)" >> "$SH_FILE"
  echo "#" >> "$SH_FILE"
  echo "# Purpose and References:" >> "$SH_FILE"
  echo "#" >> "$SH_FILE"
  echo "#" >> "$SH_FILE"
  echo "# Where you want the options to take effect, use set -o option-name or, in short form, set -option-abbrev, To disable an option within a script, use set +o option-name or set +option-abbrev: https://www.tldp.org/LDP/abs/html/options.html" >> "$SH_FILE"
  echo "set +x #xtrace" >> "$SH_FILE"
  echo "set +v #verbose" >> "$SH_FILE"
  echo "set -e #errexit" >> "$SH_FILE"
  echo "set -u #nounset" >> "$SH_FILE"
  echo " " >> "$SH_FILE"
  chmod 740 "$SH_FILE"
}

# Used to pipe the man commands text into a pdf for easier viewing.
function manpdf() {
 man -t "${1}" | open -f -a /Applications/Preview.app/
}

# Function to quickly make a note file and open it up in the current directory.
function mknote {
  local NOTE_FILE="$(date '+%Y%m%d')-notes.txt"
  touch "$NOTE_FILE"
  open "$NOTE_FILE"
}

alias cdrepos="cd $REPOS_BASE_DIR"
alias cdodin="cd $REPOS_BASE_DIR/opploans/opploans-odin"
alias cdonelog="cd $ONELOGIN_CREDS_LOCATION"
alias cdproto="cd $REPOS_BASE_DIR/prototype"
alias cdop="cd $REPOS_BASE_DIR/opploans/opploans"

function cdiac {
    local CURRENT_START_PATH="$(pwd)"
    local CURRENT_PATH="${CURRENT_START_PATH##*[/]}"
    if [[ $CURRENT_START_PATH == *"iac"* ]]; then
      while [ "iac" != "$CURRENT_PATH" ]
      do
        cd ..
        CURRENT_PATH_TMP="$(pwd)"
        CURRENT_PATH="${CURRENT_PATH_TMP##*[/]}"
      done
    else
        echo "No iac directory in the current path: $CURRENT_START_PATH"
    fi
}
